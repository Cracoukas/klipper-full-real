[include .dynamicmacros.cfg]
# [heater# This file contains common pin mappings for the BIGTREETECH Manta M8P V2.0
# To use this config, the firmware should be compiled for the
# STM32H723 with a "128KiB bootloader" "25 MHz crystal"
# and "USB (on PA11/PA12)", "CAN bus (on PD0/PD1)" or Serial (on USART1 PA10/PA9).

# See docs/Config_Reference.md for a description of parameters.

########################################################################
#   GLOBAL VARIABLES
########################################################################
### 

[delayed_gcode boot_macro]
initial_duration: 1.0
gcode:
  M118 [Welcome: boot_macro]
  CLEAR_PAUSE
  GLOBALS_V

  {% set svv = printer.save_variables.variables %}
  SET_GCODE_VARIABLE  MACRO=GLOBALS_V VARIABLE=extruder_parked  VALUE={svv.extruder_parked} 

  SET_GCODE_VARIABLE  MACRO=GLOBALS_V VARIABLE=tap_mode  VALUE={svv.tap_mode} 
  SET_GCODE_VARIABLE  MACRO=GLOBALS_V VARIABLE=eddy_mode  VALUE={svv.eddy_mode} 
  SET_GCODE_VARIABLE  MACRO=GLOBALS_V VARIABLE=carto_mode  VALUE={svv.carto_mode} 
  
[gcode_macro GLOBALS_V]
variable_extruder_parked : 0
variable_z_pos: -10
# variable_hotend_type : "V6"
variable_hotend_type : "revo"
variable_tap_mode : 1
variable_eddy_mode : 0
variable_carto_mode : 0

gcode:
  M118 globals defined
  M118   default extruder_parked = {extruder_parked}
  M118   default z_pos = {z_pos}
  M118   default tap_mode = {tap_mode}
  M118   default eddy_mode = {eddy_mode}
  M118   default carto_mode = {carto_mode}


# [gcode_macro SET_GLOBAL]
# gcode:
#   M118 macro SET_GLOBAL  params.VALUE = { params.VALUE}
#   SET_GCODE_VARIABLE MACRO=GLOBALS_V VARIABLE=z_pos VALUE={ params.VALUE|float }
 
[save_variables]
filename: ../printer_data/config/variables.cfg
# filename: ~/printer_data/config/firstlayer_vars.cfg
# filename: ~/printer_data/config/firstlayer_vars.cfg

#   Required - provide a filename that would be used to save the
#   variables to disk e.g. ~/variables.cfg


[include mainsail.cfg]
[include moonraker_obico_macros.cfg]
###! [include stealthburner_leds.cfg]

[include homing.cfg]     # does not seems to be used if used as dynamic
[include macros.cfg]
[include speed.cfg]
[include pause.cfg]
# [include dynamic.cfg]

# [include tmc2209.cfg]                        # x/Y/Z axes tmc2209 configu
[include tmc5160.cfg]                          # x/Y/Z axes tmc5160 configuration

##--------------------------
##  select probing mode
##--------------------------
# {% if  printer["gcode_macro GLOBALS_V"].tap_mode == 1 %}
#   ##  use TAP only for probing
[include tap_config.cfg]
# {% elif  printer["gcode_macro GLOBALS_V"].eddy_mode == 1 %}
#   ## use Eddy for probing and eddy for bedmesh
#   [include eddy_config.cfg]  
# {% elif  printer["gcode_macro GLOBALS_V"].carto_mode == 1 %}
#   ## use Cartograpfer for probing and eddy for bedmesh
# [include carto_mesh.cfg]
# {% endif %}
# ##--------------------------

###  [include shell_command.cfg]
[include autotune.cfg]
[include autospeed.cfg]

# First layer optomisation
[include FirstLayer.cfg]

[force_move]
enable_force_move: True

#####################################################################
#   UUID Setting
#####################################################################

[mcu]
#canbus_uuid:
#   If using a device connected to a CAN bus then this sets the unique
#   chip identifier to connect to. This value must be provided when using
#   CAN bus for communication.
#   ~/klippy-env/bin/python ~/klipper/scripts/canbus_query.py can0
#   Found canbus_uuid=b2e403d392fe, Application: Klipper
#   https://gist.github.com/fredrikasberg/c14f08eb8617bf8981f77dbc01b00602
canbus_uuid: b2e403d392fe  # Detected UUID: b2e403d392fe, Application: Klipper

#canbus_interface:
#   If using a device connected to a CAN bus then this sets the CAN
#   network interface to use. The default is 'can0'.
canbus_interface: can0

#restart_method:
#   This controls the mechanism the host will use to reset the
#   micro-controller. The choices are 'arduino', 'cheetah', 'rpi_usb',
#   and 'command'. The 'arduino' method (toggle DTR) is common on
#   Arduino boards and clones. The 'cheetah' method is a special
#   method needed for some Fysetc Cheetah boards. The 'rpi_usb' method
#   is useful on Raspberry Pi boards with micro-controllers powered
#   over USB - it briefly disables power to all USB ports to
#   accomplish a micro-controller reset. The 'command' method involves
#   sending a Klipper command to the micro-controller so that it can
#   reset itself. The default is 'arduino' if the micro-controller
#   communicates over a serial port, 'command' otherwise.


[mcu EBBCan]
##serial: /dev/serial/by-id/usb-Klipper_Klipper_firmware_12345-if00
canbus_uuid: 4cb54f84a8fd       #  Detected UUID: c76167775bb3, Application: Klipper EBB36
# canbus_uuid: 9567318eb8a2     # Detected UUID: 9567318eb8a2, Application: Klipper  EBB2209 !
canbus_interface: can0


#####################################################################
#  Voron R2.4 350x350
#####################################################################
[printer]
kinematics: corexy

##  speed test with G0 X300 Y300 F9000 is ok     
##  F9000 => 9000/60=150 mm/s. 
max_velocity: 1000    # 967  according to auto_speed  		                      
max_accel: 4500       # 78350 according to auto_speed  			
max_z_velocity: 25 			
max_z_accel: 350
square_corner_velocity: 5.0

[heater_bed]
heater_pin: PA1
sensor_pin: PB1 # THB 
sensor_type: ATC Semitec 104GT-2
# control: PID
min_temp: 0
max_temp: 130

##------------------------------------------------
##  CONTROLER FAN
##------------------------------------------------
##  Controller cooling fan (one may define any number of sections with a "controller_fan" prefix). 
##  A "controller fan" is a fan that will be enabled whenever its associated heater or its associated stepper driver is active. 
##  The fan will stop whenever an idle_timeout is reached to ensure no overheating will occur after deactivating a watched component.
##  See the "fan" section for a description of the above parameters.
##  https://www.klipper3d.org/Config_Reference.html?h=fan#fan_generic

[controller_fan my_controller_fan1]
pin: PF9
#max_power:
#shutdown_speed:
#cycle_time:
#hardware_pwm:
#kick_start_time:
#off_below:
#tachometer_pin:
#tachometer_ppr:
#tachometer_poll_interval:
#enable_pin:

fan_speed: 1.0
#   The fan speed (expressed as a value from 0.0 to 1.0) that the fan
#   will be set to when a heater or stepper driver is active.
#   The default is 1.0
idle_timeout: 30
#   The amount of time (in seconds) after a stepper driver or heater
#   was active and the fan should be kept running. The default
#   is 30 seconds.
#idle_speed:
#   The fan speed (expressed as a value from 0.0 to 1.0) that the fan
#   will be set to when a heater or stepper driver was active and
#   before the idle_timeout is reached. The default is fan_speed.
#heater:

stepper: stepper_x, stepper_y, stepper_z, stepper_z1, stepper_z2, stepper_z3
#   Name of the config section defining the heater/stepper that this fan
#   is associated with. If a comma separated list of heater/stepper names
#   is provided here, then the fan will be enabled when any of the given
#   heaters/steppers are enabled. The default heater is "extruder", the
#   default stepper is all of them.
##------------------------------------------------

[controller_fan my_controller_fan2]
pin: PF6
fan_speed: 1.0
idle_timeout: 30
stepper: stepper_x, stepper_y, stepper_z, stepper_z1, stepper_z2, stepper_z3

[shaketune]  
## https://github.com/Frix-x/klippain-shaketune
## https://github.com/Frix-x/klippain-shaketune/blob/main/docs/README.md
##
# result_folder: ~/printer_data/config/ShakeTune_results
#    The folder where the results will be stored. It will be created if it doesn't exist.
# number_of_results_to_keep: 3
#    The number of results to keep in the result_folder. The oldest results will
#    be automatically deleted after each runs.
# keep_raw_csv: False
#    If True, the raw CSV files will be kept in the result_folder alongside the
#    PNG graphs. If False, they will be deleted and only the graphs will be kept.
# show_macros_in_webui: True
#    Mainsail and Fluidd doesn't create buttons for "system" macros that are not in the
#    printer.cfg file. If you want to see the macros in the webui, set this to True.
# timeout: 300
#    The maximum time in seconds to let Shake&Tune process the CSV files and generate the graphs.

##------------------------------------------------
#####################################################################
##  EBB-sb-rp2040-canbus-v1.0.
#####################################################################
#[sample-bigtreetech-ebb-sb-rp2040-canbus-v1.0.cfg]

# This file contains common pin mappings for the BIGTREETECH EBBCan
# Canbus board. To use this config, the firmware should be compiled for the
# RP2040 with "USB" or "CAN bus (on gpio4/gpio5)".
# The "EBB Can" micro-controller will be used to control the components on the nozzle.

# See docs/Config_Reference.md for a description of parameters.

### For ENN2209
# [temperature_sensor EBB_NTC]
# sensor_type: Generic 3950
# sensor_pin: EBBCan:gpio28    

[adxl345]
### EBB209 config
# cs_pin: EBBCan:gpio1
# spi_software_sclk_pin: EBBCan:gpio2
# spi_software_mosi_pin: EBBCan:gpio0
# spi_software_miso_pin: EBBCan:gpio3
# #axes_map: x,y,x     # commented out for Shake Tune AXES_MAP_CALIBRATION

### EBB36 config
cs_pin: EBBCan:PB12
spi_software_sclk_pin: EBBCan:PB10
spi_software_mosi_pin: EBBCan:PB11
spi_software_miso_pin: EBBCan:PB2
axes_map: -x,-y,-z  ### To be checked


[resonance_tester]
probe_points: 175, 175, 20
accel_chip: adxl345

[extruder]
###  EBB2209 config
# step_pin: EBBCan:gpio18
# dir_pin:  EBBCan:gpio19
# enable_pin: !EBBCan:gpio17
# microsteps: 16
# rotation_distance: 4.594   # 4.417 => subsequent_mark_distance = 18.mm  (initial_mark_distance 70 - G1 E50 F60)
# nozzle_diameter: 0.400
# filament_diameter: 1.750
# heater_pin: EBBCan:gpio7

### EBB36 config
step_pin: EBBCan:PD0
dir_pin: !EBBCan:PD1
enable_pin: !EBBCan:PD2
heater_pin: EBBCan: PB13
sensor_pin: EBBCan: PA3
sensor_type: ATC Semitec 104NT-4-R025H42G
# control: PID
min_temp: 150
max_temp: 300

### To be checked
# max_extrude_only_distance=101
microsteps: 16
#  rotation_distance: 4.594   # 4.417 => subsequent_mark_distance = 18.mm  (initial_mark_distance 70 - G1 E50 F60)  ## STEALTHBURNER extruder
rotation_distance: 3.433   ## H2V2S extruder, mesuré 3.5222418  
nozzle_diameter: 0.400
filament_diameter: 1.750

### To be checked
# [temperature_sensor EBBCan]
# sensor_type: temperature_mcu
# sensor_mcu: EBBCan
# min_temp: 0
# max_temp: 100

#max_extrude_cross_section:
#   Maximum area (in mm^2) of an extrusion cross section (eg,
#   extrusion width multiplied by layer height). This setting prevents
#   excessive amounts of extrusion during relatively small XY moves.
#   If a move requests an extrusion rate that would exceed this value
#   it will cause an error to be returned. The default is: 4.0 * nozzle_diameter^2

# {% if hotend_type = "revo" %}
sensor_type: ATC Semitec 104NT-4-R025H42G
# sensor_pin: EBBCan:gpio27    # EBB2209 config TH0
sensor_pin: EBBCan:PA3 # EBB36 config TH0    
# {% endif %}

# {% if hotend_type = "V6" %}
# sensor_type: MAX31865
# sensor_pin: EBBCan:gpio9
# spi_software_sclk_pin: EBBCan:gpio10
# spi_software_mosi_pin: EBBCan:gpio8    # not connected
# spi_software_miso_pin: EBBCan:gpio11   # not connected
# rtd_nominal_r: 100
# rtd_reference_r: 430
# rtd_num_of_wires: 2
# {% endif %}

#control: pid
min_temp: 0
max_temp: 350
min_extrude_temp = 180   # 0 for testing without hotend, 180 oterwise 

[tmc2209 extruder]
# uart_pin: EBBCan:gpio20   ### EBB2209 config
 uart_pin: EBBCan:PA15   ### EBB36 config

run_current: 0.650
stealthchop_threshold: 999999
interpolate: true


[fan]      hotend_fan
# pin: GPIO14  # EBB2209 config
pin: EBBCan:PA1 # EBB36 config
off_below: 0.10

[heater_fan extruder_fan]
# pin: EBBCan:gpio13 # EBB2209 config
pin: EBBCan:PA0  # EBB36 confif
max_power: 1.0
heater: extruder
heater_temp: 50.0
fan_speed:1.0

#[fan_generic 4W_FAN0]  # EBB2209 config
#pin: EBBCan:gpio15 
#pin: {4W_FAN0_pin} 
#tachometer_pin: EBBCan:gpio12
#tachometer_ppr: 1

#[neopixel hotend_rgb]   ## Defined in tealthburner_leds.cfg
#pin: EBBCan:gpio16

#[bltouch]
#sensor_pin: ^EBBCan:gpio21
#control_pin: EBBCan:gpio22

#[heater_fan exhaust_fan]
[fan_generic exhaust_fan]
##	Exhaust fan - CNC_FAN3
## https://docs.vorondesign.com/community/howto/alchemyEngine/chamber_temperature_exhaust_fan.html
## https://github.com/VoronDesign/Voron-2/blob/Voron2.4/firmware/klipper_configurations/M8P/Voron2_M8P-v2.0_config.cfg
pin: PF8
#max_power: 1.0
#shutdown_speed: 0.0
#kick_start_time: 5.0
#heater: heater_bed
#heater_temp: 60
#fan_speed: 1.0

# [probe]   ## with TAP defined if tap_probe.cfg


# --- Voron Tap as Z endstop only ---
# --- Macro to home Z with Tap-like behavior ---
[gcode_macro HOME_Z_WITH_TAP]
gcode:
    # --------------------
    # according to copilot
    # --------------------
    # {% set PROBE_TEMP = 150 %}
    # M104 S{PROBE_TEMP}       ; Heat nozzle to probe temp
    # M109 S{PROBE_TEMP}       ; Wait for temp
    # G91                      ; Relative mode
    # G1 Z10 F600              ; Lift Z
    # G90                      ; Absolute mode
    # G28 Z                    ; Home Z using Tap endstop
    # # Simulate Tap's retract and sample behavior
    # G91
    # G1 Z3 F600
    # G90
    # --------------------
    
    {% set PROBE_TEMP = 150 %}
    {% set MAX_TEMP = PROBE_TEMP + 5 %}
    {% set ACTUAL_TEMP = printer.extruder.temperature %}
    {% set TARGET_TEMP = printer.extruder.target %}

    {% if TARGET_TEMP > PROBE_TEMP %}
        { action_respond_info('Extruder temperature target of %.1fC is too high, lowering to %.1fC' % (TARGET_TEMP, PROBE_TEMP)) }
        M109 S{ PROBE_TEMP }
    {% else %}
        # Temperature target is already low enough, but nozzle may still be too hot.
        {% if ACTUAL_TEMP > MAX_TEMP %}
            { action_respond_info('Extruder temperature %.1fC is still too high, waiting until below %.1fC' % (ACTUAL_TEMP, MAX_TEMP)) }
            TEMPERATURE_WAIT SENSOR=extruder MAXIMUM={ MAX_TEMP }
        {% endif %}
    {% endif %}
    



[filament_switch_sensor switch_sensor]
switch_pin: ^PF0          #  EBBCan:gpio24
#  EBBCan:gpio24  : end-stop port 
#  La broche sur laquelle l'interrupteur est connecté.
#  Ce paramètre doit être fourni.
    
pause_on_runout: True
#  Lorsque défini sur True, une PAUSE sera exécutée immédiatement après qu'un runout
#  soit détecté. Notez que si pause_on_runout est False et que le runout_gcode est omis,
#  la détection du runout est désactivée. Par défaut, est True.

runout_gcode: 
#  Une liste de commandes G-Code à exécuter après la détection d'une fin de filament.
#  Voir docs/Command_Templates.md pour le format G-Code. Si pause_on_runout est
#  réglé sur True, ce G-code sera exécuté après la fin de la PAUSE. Par défaut, aucune
#    commande G-Code n'est exécutée.
    RESPOND MSG="Filament Switch runnout detected" COLOR="success"
    CHANGE_FILAMENT

insert_gcode:
#  Une liste de commandes G-Code à exécuter après qu'une insertion de filament soit détectée.
#  Voir docs/Command_Templates.md pour le format G-Code. La valeur par défaut est de
#  n'exécuter aucune commande G-Code, ce qui désactive la détection de l'insertion.
    RESPOND MSG="Filament Switch inserted" COLOR="success"
    
event_delay:  3.0
#    La durée minimale en secondes à attendre entre les événements.
#    Des événements déclenchés durant cette période seront silencieusement ignorés.
#    La valeur par défaut est de 3 secondes.
pause_delay: 0.5
#    Le délai, en secondes, entre l'envoi de la commande de pause et l'exécution du runout_gcode.
#    Il peut être utile d'augmenter ce délai si OctoPrint présente un comportement étrange lors de
#    la pause. La valeur par défaut est 0.5 secondes.


[filament_motion_sensor encoder_sensor]
# switch_pin: !EBBCan:gpio24  # end-stop port
switch_pin: ^PC15    # ^EBBCan:gpio6      # IND port

detection_length: 10  # 2.88 This can be adjusted to your desired level of sensitivity. 10 is a recommended value to prevent flow dropoff false triggers.
extruder: extruder
pause_on_runout: True # This can be set to false to debug false positives putting the sensor in "monitor mode". The printer will not pause but it will run the runout_gcode below.
event_delay: 3.0
pause_delay: 2  # 0.5
runout_gcode:
    RESPOND MSG="Filament encoder runnout detected"
    CHECK_FILAMENT
    
insert_gcode:
    RESPOND MSG="Filament encoder detected"


[delayed_gcode DISABLEFILAMENTSENSOR] ; This will disable the SFS 1 second after klipper starts
initial_duration: 1
gcode:
    SFS_DISABLE
    # SET_FILAMENT_SENSOR SENSOR=encoder_sensor ENABLE=0 

[respond]   
## https://www.reddit.com/r/klippers/comments/y8rara/what_command_prints_text_to_the_console_id_like/
## https://www.klipper3d.org/G-Codes.html?h=respond#respond_1
default_type: echo
default_prefix: 

#####################################################################
#   MACROS
#####################################################################
[gcode_macro _CURA_SET_PRINT_STATS_INFO]
gcode:
  {% if params.LAYER_COUNT is defined %}
    SET_PRINT_STATS_INFO TOTAL_LAYER={params.LAYER_COUNT}
  {% endif %}
  {% if params.LAYER is defined %}
    SET_PRINT_STATS_INFO CURRENT_LAYER={(params.LAYER | int) + 1}
  {% endif %}

[gcode_macro RESPOND]
rename_existing: BASE_RESPOND
gcode:
  {% set colors = ('primary', 'secondary', 'accent', 'info', 'success', 'error', 'warning') %}

  {% if params.PREFIX is defined %}
    {% set prefix = 'PREFIX=' + params.PREFIX|string %}
  {% endif %}

  {% if params.TYPE is defined %}
      {% if params.TYPE in ('echo', 'echo_no_space', 'command', 'error') and params.TYPE != '' %}    
          {% set type = 'TYPE=' + params.TYPE|string %}
      {% else %}
          BASE_RESPOND TYPE=error MSG="RESPOND TYPE '{params.TYPE}' is invalid. Must be one of 'echo', 'command' or 'error'"
      {% endif %}
  {% endif %}
        
  {% if params.MSG is defined %}   
    {% set msg = 'MSG="'+ params.MSG + '"'|string %}
  {% endif %}

  {% if params.COLOR is defined %}
      {% set color = params.COLOR|lower %}

      {% if color in colors %}
          {% set msg = 'MSG="<span class=' + color + '--text>' + params.MSG + '</span>"'|string %}
  
      {% else %}
          BASE_RESPOND TYPE=error MSG="RESPOND COLOR '{color}' is invalid. Must be one of 'primary', 'secondary', 'accent', 'info', 'success', 'warning' or 'error'"
      {% endif %}
       
  {% endif %}
  BASE_RESPOND {prefix} {type} {msg}
  
#############################################################################
#   DYNAMIC MACROS
#   Send: DYNAMIC_MACRO after saving dynamic macro files, no need to restart
##  https://github.com/3DCoded/DynamicMacros
##  https://dynamicmacros.3dcoded.xyz/tutorial/
##  https://dynamicmacros.3dcoded.xyz/setup/
#############################################################################
[dynamicmacros]
configs: dynamic.cfg ## , eddy_macros.cfg  # You can add more files to this list, separated by commas.

 
#####################################################################
# 	Displays
#####################################################################

[virtual_sdcard]
path: ~/printer_data/gcodes
[display_status]

#####################################################################
##  various configs
#####################################################################

[pause_resume]

[gcode_arcs]
resolution: 0.1

[exclude_object]

[gcode_macro G29]
gcode:
    BED_MESH_CALIBRATE ADAPTATIV=1 ADAPTATIVE_MARGIN=5
    G90
    G0 Y20
    G0 X160 Y160
    

## 	Uncomment the display that you have
#--------------------------------------------------------------------

#[display]
##	RepRapDiscount 128x64 Full Graphic Smart Controller
#lcd_type: st7920
#cs_pin: EXP1_4
#sclk_pin: EXP1_5
#sid_pin: EXP1_3
#menu_timeout: 40
#encoder_pins: ^EXP2_5, ^EXP2_3
#click_pin: ^!EXP1_2

#[output_pin beeper]
#pin: EXP1_1

#--------------------------------------------------------------------

#[display]
##	mini12864 LCD Display
#lcd_type: uc1701
#cs_pin: EXP1_3
#a0_pin: EXP1_4
#rst_pin: EXP1_5
#encoder_pins: ^EXP2_5, ^EXP2_3
#click_pin: ^!EXP1_2
#contrast: 63
#spi_software_miso_pin: EXP2_1
#spi_software_mosi_pin: EXP2_6
#spi_software_sclk_pin: EXP2_2

#[neopixel btt_mini12864]
##	To control Neopixel RGB in mini12864 display
#pin: EXP1_6
#chain_count: 3
#initial_RED: 0.1
#initial_GREEN: 0.5
#initial_BLUE: 0.0
#color_order: RGB

##	Set RGB values on boot up for each Neopixel. 
##	Index 1 = display, Index 2 and 3 = Knob
#[delayed_gcode setdisplayneopixel]
#initia#l_duration: 1
#gcode:
#       SET_LED LED=btt_mini12864 RED=1 GREEN=1 BLUE=1 INDEX=1 TRANSMIT=0
#       SET_LED LED=btt_mini12864 RED=1 GREEN=0 BLUE=0 INDEX=2 TRANSMIT=0
#       SET_LED LED=btt_mini12864 RED=1 GREEN=0 BLUE=0 INDEX=3 
       

[input_shaper]
shaper_freq_x: 87.4     # center frequency for the X axis filter
shaper_type_x: 2hump_ei # filter type for the X axis
shaper_freq_y: 40.2     # center frequency for the Y axis filter
shaper_type_y: mzv      # filter type for the Y axis
damping_ratio_x: 0.088  # damping ratio for the X axis
damping_ratio_y: 0.057  # damping ratio for the Y axis

#--------------------------------------------------------------------

#*# <---------------------- SAVE_CONFIG ---------------------->
#*# DO NOT EDIT THIS BLOCK OR BELOW. The contents are auto-generated.
#*#
#*# [extruder]
#*# pid_kp = 27.444
#*# pid_ki = 2.951
#*# pid_kd = 63.806
#*# control = pid
#*#
#*# [probe]
#*# z_offset = -0.875
#*#
#*# [heater_bed]
#*# control = pid
#*# pid_kp = 65.356
#*# pid_ki = 3.514
#*# pid_kd = 303.904
#*#
#*# [bed_mesh default]
#*# version = 1
#*# points =
#*# 	  0.111225, 0.131064, 0.198032, 0.204926, 0.221067, 0.235708, 0.208506, 0.194210, 0.193990, 0.188976, 0.178559, 0.180511, 0.178036, 0.140540, 0.110614
#*# 	  0.094250, 0.097333, 0.107290, 0.120546, 0.142099, 0.168520, 0.148769, 0.142031, 0.163281, 0.155321, 0.141470, 0.137720, 0.133788, 0.104677, 0.071475
#*# 	  0.078683, 0.108390, 0.106157, 0.122715, 0.142133, 0.154240, 0.127776, 0.123710, 0.135464, 0.121522, 0.100217, 0.091953, 0.088543, 0.059644, 0.036197
#*# 	  0.052643, 0.057923, 0.053928, 0.072056, 0.088073, 0.103815, 0.091868, 0.090483, 0.101138, 0.088284, 0.064492, 0.061244, 0.056182, 0.029810, 0.008249
#*# 	  0.032125, 0.063493, 0.060322, 0.076831, 0.091167, 0.100074, 0.074897, 0.070174, 0.076110, 0.058648, 0.027797, 0.025726, 0.021226, -0.018928, -0.038308
#*# 	  0.020483, 0.024280, 0.013708, 0.032846, 0.054685, 0.074454, 0.054198, 0.040684, 0.043028, 0.033986, 0.010793, 0.009339, -0.007179, -0.036256, -0.065355
#*# 	  0.011053, 0.038883, 0.035439, 0.047819, 0.064511, 0.073460, 0.050011, 0.032029, 0.033215, 0.017790, -0.001890, -0.008322, -0.023010, -0.051346, -0.086287
#*# 	  0.012937, 0.017216, 0.013025, 0.024096, 0.045008, 0.062455, 0.043128, 0.022600, 0.024198, 0.009401, -0.003112, -0.010443, -0.018845, -0.051666, -0.076305
#*# 	  0.024805, 0.056905, 0.059343, 0.062017, 0.080200, 0.092932, 0.067118, 0.046249, 0.050988, 0.027478, 0.004835, 0.000539, -0.012758, -0.042166, -0.073178
#*# 	  0.047154, 0.056001, 0.058816, 0.068866, 0.086695, 0.102734, 0.077855, 0.064953, 0.061225, 0.043685, 0.016301, 0.004571, -0.000103, -0.031374, -0.066364
#*# 	  0.067496, 0.095621, 0.104307, 0.117027, 0.130073, 0.138741, 0.113728, 0.093279, 0.093833, 0.072160, 0.053009, 0.040766, 0.028099, -0.004084, -0.041703
#*# 	  0.089762, 0.097353, 0.104005, 0.117916, 0.142839, 0.148724, 0.122396, 0.112747, 0.106307, 0.088709, 0.065496, 0.059625, 0.053136, 0.020156, -0.014391
#*# 	  0.115685, 0.140785, 0.153519, 0.157211, 0.175638, 0.181140, 0.165934, 0.149836, 0.140345, 0.125423, 0.100763, 0.097530, 0.080343, 0.045908, 0.015453
#*# 	  0.140287, 0.152190, 0.168700, 0.179146, 0.202474, 0.211136, 0.185045, 0.179503, 0.184399, 0.165566, 0.144162, 0.141139, 0.129950, 0.093300, 0.062421
#*# 	  -0.022299, 0.012074, 0.024840, 0.034798, 0.062231, 0.060668, 0.028580, 0.057783, 0.107582, 0.109015, 0.088504, 0.084528, 0.064941, 0.028286, -0.005009
#*# x_count = 15
#*# y_count = 15
#*# mesh_x_pps = 2
#*# mesh_y_pps = 2
#*# algo = bicubic
#*# tension = 0.2
#*# min_x = 70.0
#*# max_x = 339.92
#*# min_y = -25.0
#*# max_y = 284.9599999999999
#*#
#*#
#*# [bed_mesh defaultz]
#*# version = 1
#*# points =
#*# 	0.040163, 0.066029, 0.075776, 0.083869, 0.111442, 0.139426, 0.123129, 0.129782, 0.134471, 0.136679, 0.117408, 0.115060, 0.098006, 0.054163, 0.022913
#*# 	0.023213, 0.039958, 0.025272, 0.030917, 0.053321, 0.079910, 0.071809, 0.082732, 0.101654, 0.102927, 0.086464, 0.087871, 0.073749, 0.033212, 0.003011
#*# 	0.004382, 0.035498, 0.030631, 0.040759, 0.065690, 0.086096, 0.067556, 0.074766, 0.085642, 0.078319, 0.054770, 0.047429, 0.038172, -0.008216, -0.037836
#*# 	-0.032922, -0.018979, -0.023980, -0.012206, 0.008436, 0.027569, 0.018482, 0.028291, 0.039225, 0.037023, 0.019371, 0.017020, 0.010185, -0.035811, -0.065087
#*# 	-0.042957, -0.010691, -0.007233, 0.004726, 0.022210, 0.043977, 0.021009, 0.024550, 0.036580, 0.029047, 0.008534, -0.006407, -0.018935, -0.063765, -0.095324
#*# 	-0.054109, -0.039667, -0.042576, -0.037501, -0.024607, 0.006184, -0.007226, -0.003059, 0.011753, 0.006927, -0.009253, -0.013892, -0.020409, -0.069734, -0.109980
#*# 	-0.049912, -0.010905, -0.015193, -0.014981, 0.005295, 0.031021, 0.007676, 0.010586, 0.022452, 0.011827, -0.003433, -0.015007, -0.023805, -0.072765, -0.117051
#*# 	-0.038352, -0.017267, -0.032240, -0.036537, -0.010796, 0.017794, 0.006595, 0.003726, 0.022233, 0.016517, 0.002459, -0.000763, -0.010609, -0.060642, -0.098704
#*# 	-0.020819, 0.012569, 0.014727, 0.015059, 0.030962, 0.062294, 0.037123, 0.045165, 0.049414, 0.039812, 0.019074, 0.014939, -0.000330, -0.040433, -0.086943
#*# 	-0.009110, 0.010652, 0.000219, 0.003008, 0.027508, 0.051784, 0.036883, 0.043827, 0.053845, 0.045902, 0.033712, 0.026738, 0.020564, -0.022883, -0.064064
#*# 	0.005902, 0.047642, 0.048965, 0.055849, 0.076425, 0.100085, 0.081063, 0.080101, 0.088597, 0.081357, 0.060679, 0.054105, 0.044319, -0.006369, -0.042764
#*# 	0.022341, 0.035954, 0.033334, 0.038276, 0.067032, 0.098567, 0.083958, 0.086311, 0.090512, 0.092990, 0.073747, 0.075700, 0.066610, 0.025717, -0.011917
#*# 	0.047217, 0.091114, 0.088507, 0.100074, 0.117146, 0.151512, 0.127806, 0.131724, 0.136928, 0.129777, 0.113482, 0.102965, 0.096849, 0.051329, 0.018798
#*# 	0.072685, 0.090219, 0.087761, 0.098446, 0.126591, 0.159211, 0.143492, 0.152018, 0.157672, 0.156275, 0.141019, 0.141987, 0.135262, 0.090289, 0.067166
#*# 	-0.084006, -0.046145, -0.030135, -0.016874, 0.014660, 0.035900, 0.013867, 0.011487, 0.013623, 0.012279, 0.000026, 0.008381, 0.004761, -0.056962, -0.097073
#*# x_count = 15
#*# y_count = 15
#*# mesh_x_pps = 2
#*# mesh_y_pps = 2
#*# algo = bicubic
#*# tension = 0.2
#*# min_x = 70.0
#*# max_x = 339.92
#*# min_y = 5.0
#*# max_y = 285.0
