[gcode_macro TEST_VAR]
gcode = {% set val = printer["filament_switch_sensor switch_sensor"].filament_detected %}
	{% set pos = printer["toolhead"].position %}  M118 {val}
	{% set axismax = printer["toolhead"].axis_maximum %}
	DYNAMIC_MACRO MACRO=TEST_VAR {rawparams}

[gcode_macro UPDATE_DYNAMIC_MACROS]
gcode = 
	DYNAMIC_MACRO MACRO=UPDATE_DYNAMIC_MACROS {rawparams}

[gcode_macro HEAT_HOTEND]
gcode = {% set temp = params.TEMP|int %}
	DYNAMIC_MACRO MACRO=HEAT_HOTEND {rawparams}

[gcode_macro DISABLE_STEPPER]
gcode = 
	DYNAMIC_MACRO MACRO=DISABLE_STEPPER {rawparams}

[gcode_macro ENABLE_STEPPER]
gcode = 
	DYNAMIC_MACRO MACRO=ENABLE_STEPPER {rawparams}

[gcode_macro CHANGE_FILAMENT]
variable_parameter_x = 160
variable_parameter_y = 0
variable_parameter_z = 10
gcode = 
	DYNAMIC_MACRO MACRO=CHANGE_FILAMENT {rawparams}

[gcode_macro CHECK_FILAMENT]
variable_parameter_x = 160
variable_parameter_y = 0
variable_parameter_z = 10
gcode = 
	DYNAMIC_MACRO MACRO=CHECK_FILAMENT {rawparams}

[gcode_macro MOVE_TO_TOP]
gcode = {% set pos = printer.toolhead.position %}
	{% set axismax = printer.toolhead.axis_maximum %}
	DYNAMIC_MACRO MACRO=MOVE_TO_TOP {rawparams}

[gcode_macro PARK_UP]
gcode = 
	DYNAMIC_MACRO MACRO=PARK_UP {rawparams}

[gcode_macro PARK_LOAD]
variable_park_x = 160
variable_park_y = 0
variable_park_z = 40
gcode = 
	DYNAMIC_MACRO MACRO=PARK_LOAD {rawparams}

[gcode_macro PARK_UNLOAD]
variable_park_x = 0
variable_park_y = 230
variable_park_z = 250
gcode = 
	DYNAMIC_MACRO MACRO=PARK_UNLOAD {rawparams}

[gcode_macro PARK_DOWN]
gcode = 
	DYNAMIC_MACRO MACRO=PARK_DOWN {rawparams}

[gcode_macro PROBE_EDDY_CURRENT_CALIBRATE_AUTO]
gcode = 
	DYNAMIC_MACRO MACRO=PROBE_EDDY_CURRENT_CALIBRATE_AUTO {rawparams}

[gcode_macro MESH_CALIBRATE]
gcode = 
	DYNAMIC_MACRO MACRO=MESH_CALIBRATE {rawparams}

[gcode_macro BED_MESH_CALIBRATE]
rename_existing = _BTT_BED_MESH_CALIBRATE
gcode = 
	DYNAMIC_MACRO MACRO=BED_MESH_CALIBRATE {rawparams}

